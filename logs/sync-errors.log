2025-11-09 11:26:37.951 [http-nio-8080-exec-1] [53d0c33b-51d9-4bc3-aa6a-a4f506e33fdb CON-200801100 1] WARN  o.e.p.lavka.service.SyncServiceImpl - [sync.errors] woo_batch_failed size=9 skus=CON-204127708,CON-204127709,CR-CE0890056050,CR-CE0890056200,CR-CE0890056276,CR-CE0890056400,CR-CE0890056600,CR-CE0890056630,CR-CE0890056962 msg=405 Not Allowed: "<html><EOL><EOL><head><title>405 Not Allowed</title></head><EOL><EOL><body><EOL><EOL><center><h1>405 Not Allowed</h1></center><EOL><EOL><hr><center>nginx/1.26.1</center><EOL><EOL></body><EOL><EOL></html><EOL><EOL>"
2025-11-09 11:26:37.957 [http-nio-8080-exec-1] [53d0c33b-51d9-4bc3-aa6a-a4f506e33fdb CON-200801100 1] WARN  o.e.p.lavka.service.SyncServiceImpl - [sync.errors] woo_batch_failed size=4 skus=CON-204127708,CON-204127709,CR-CE0890056050,CR-CE0890056200 msg=405 Not Allowed: "<html><EOL><EOL><head><title>405 Not Allowed</title></head><EOL><EOL><body><EOL><EOL><center><h1>405 Not Allowed</h1></center><EOL><EOL><hr><center>nginx/1.26.1</center><EOL><EOL></body><EOL><EOL></html><EOL><EOL>"
2025-11-09 11:26:37.959 [http-nio-8080-exec-1] [53d0c33b-51d9-4bc3-aa6a-a4f506e33fdb CON-200801100 1] WARN  o.e.p.lavka.service.SyncServiceImpl - [sync.errors] woo_batch_failed size=2 skus=CON-204127708,CON-204127709 msg=405 Not Allowed: "<html><EOL><EOL><head><title>405 Not Allowed</title></head><EOL><EOL><body><EOL><EOL><center><h1>405 Not Allowed</h1></center><EOL><EOL><hr><center>nginx/1.26.1</center><EOL><EOL></body><EOL><EOL></html><EOL><EOL>"
2025-11-09 11:26:37.961 [http-nio-8080-exec-1] [53d0c33b-51d9-4bc3-aa6a-a4f506e33fdb CON-200801100 1] WARN  o.e.p.lavka.service.SyncServiceImpl - [sync.errors] woo_batch_failed size=1 skus=CON-204127708 msg=405 Not Allowed: "<html><EOL><EOL><head><title>405 Not Allowed</title></head><EOL><EOL><body><EOL><EOL><center><h1>405 Not Allowed</h1></center><EOL><EOL><hr><center>nginx/1.26.1</center><EOL><EOL></body><EOL><EOL></html><EOL><EOL>"
2025-11-09 11:26:37.962 [http-nio-8080-exec-1] [53d0c33b-51d9-4bc3-aa6a-a4f506e33fdb CON-200801100 1] ERROR o.e.p.lavka.service.SyncServiceImpl - [sync.errors] final-fail size=1 skus=CON-204127708 err
org.springframework.web.client.HttpClientErrorException$MethodNotAllowed: 405 Not Allowed: "<html><EOL><EOL><head><title>405 Not Allowed</title></head><EOL><EOL><body><EOL><EOL><center><h1>405 Not Allowed</h1></center><EOL><EOL><hr><center>nginx/1.26.1</center><EOL><EOL></body><EOL><EOL></html><EOL><EOL>"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:115)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:183)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:137)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:942)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:891)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790)
	at org.springframework.web.client.RestTemplate.postForEntity(RestTemplate.java:538)
	at org.example.proect.lavka.client.WooApiClient.upsertProductsBatch(WooApiClient.java:254)
	at org.example.proect.lavka.service.SyncServiceImpl.postWithBisect(SyncServiceImpl.java:556)
	at org.example.proect.lavka.service.SyncServiceImpl.postWithBisect(SyncServiceImpl.java:571)
	at org.example.proect.lavka.service.SyncServiceImpl.postWithBisect(SyncServiceImpl.java:571)
	at org.example.proect.lavka.service.SyncServiceImpl.postWithBisect(SyncServiceImpl.java:571)
	at org.example.proect.lavka.service.SyncServiceImpl.runOneBatch(SyncServiceImpl.java:177)
	at org.example.proect.lavka.controller.SyncController.runOneBatch(SyncController.java:33)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:259)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:192)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:920)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:830)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.example.proect.lavka.web.RequestIdFilter.doFilterInternal(RequestIdFilter.java:38)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-11-09 11:26:37.967 [http-nio-8080-exec-1] [53d0c33b-51d9-4bc3-aa6a-a4f506e33fdb CON-200801100 1] WARN  o.e.p.lavka.service.SyncServiceImpl - [sync.errors] woo_batch_failed size=1 skus=CON-204127709 msg=405 Not Allowed: "<html><EOL><EOL><head><title>405 Not Allowed</title></head><EOL><EOL><body><EOL><EOL><center><h1>405 Not Allowed</h1></center><EOL><EOL><hr><center>nginx/1.26.1</center><EOL><EOL></body><EOL><EOL></html><EOL><EOL>"
2025-11-09 11:26:37.967 [http-nio-8080-exec-1] [53d0c33b-51d9-4bc3-aa6a-a4f506e33fdb CON-200801100 1] ERROR o.e.p.lavka.service.SyncServiceImpl - [sync.errors] final-fail size=1 skus=CON-204127709 err
org.springframework.web.client.HttpClientErrorException$MethodNotAllowed: 405 Not Allowed: "<html><EOL><EOL><head><title>405 Not Allowed</title></head><EOL><EOL><body><EOL><EOL><center><h1>405 Not Allowed</h1></center><EOL><EOL><hr><center>nginx/1.26.1</center><EOL><EOL></body><EOL><EOL></html><EOL><EOL>"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:115)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:183)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:137)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:942)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:891)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790)
	at org.springframework.web.client.RestTemplate.postForEntity(RestTemplate.java:538)
	at org.example.proect.lavka.client.WooApiClient.upsertProductsBatch(WooApiClient.java:254)
	at org.example.proect.lavka.service.SyncServiceImpl.postWithBisect(SyncServiceImpl.java:556)
	at org.example.proect.lavka.service.SyncServiceImpl.postWithBisect(SyncServiceImpl.java:572)
	at org.example.proect.lavka.service.SyncServiceImpl.postWithBisect(SyncServiceImpl.java:571)
	at org.example.proect.lavka.service.SyncServiceImpl.postWithBisect(SyncServiceImpl.java:571)
	at org.example.proect.lavka.service.SyncServiceImpl.runOneBatch(SyncServiceImpl.java:177)
	at org.example.proect.lavka.controller.SyncController.runOneBatch(SyncController.java:33)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:259)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:192)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:920)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:830)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.example.proect.lavka.web.RequestIdFilter.doFilterInternal(RequestIdFilter.java:38)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-11-09 11:26:37.969 [http-nio-8080-exec-1] [53d0c33b-51d9-4bc3-aa6a-a4f506e33fdb CON-200801100 1] WARN  o.e.p.lavka.service.SyncServiceImpl - [sync.errors] woo_batch_failed size=2 skus=CR-CE0890056050,CR-CE0890056200 msg=405 Not Allowed: "<html><EOL><EOL><head><title>405 Not Allowed</title></head><EOL><EOL><body><EOL><EOL><center><h1>405 Not Allowed</h1></center><EOL><EOL><hr><center>nginx/1.26.1</center><EOL><EOL></body><EOL><EOL></html><EOL><EOL>"
2025-11-09 11:26:37.971 [http-nio-8080-exec-1] [53d0c33b-51d9-4bc3-aa6a-a4f506e33fdb CON-200801100 1] WARN  o.e.p.lavka.service.SyncServiceImpl - [sync.errors] woo_batch_failed size=1 skus=CR-CE0890056050 msg=405 Not Allowed: "<html><EOL><EOL><head><title>405 Not Allowed</title></head><EOL><EOL><body><EOL><EOL><center><h1>405 Not Allowed</h1></center><EOL><EOL><hr><center>nginx/1.26.1</center><EOL><EOL></body><EOL><EOL></html><EOL><EOL>"
2025-11-09 11:26:37.971 [http-nio-8080-exec-1] [53d0c33b-51d9-4bc3-aa6a-a4f506e33fdb CON-200801100 1] ERROR o.e.p.lavka.service.SyncServiceImpl - [sync.errors] final-fail size=1 skus=CR-CE0890056050 err
org.springframework.web.client.HttpClientErrorException$MethodNotAllowed: 405 Not Allowed: "<html><EOL><EOL><head><title>405 Not Allowed</title></head><EOL><EOL><body><EOL><EOL><center><h1>405 Not Allowed</h1></center><EOL><EOL><hr><center>nginx/1.26.1</center><EOL><EOL></body><EOL><EOL></html><EOL><EOL>"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:115)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:183)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:137)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:942)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:891)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790)
	at org.springframework.web.client.RestTemplate.postForEntity(RestTemplate.java:538)
	at org.example.proect.lavka.client.WooApiClient.upsertProductsBatch(WooApiClient.java:254)
	at org.example.proect.lavka.service.SyncServiceImpl.postWithBisect(SyncServiceImpl.java:556)
	at org.example.proect.lavka.service.SyncServiceImpl.postWithBisect(SyncServiceImpl.java:571)
	at org.example.proect.lavka.service.SyncServiceImpl.postWithBisect(SyncServiceImpl.java:572)
	at org.example.proect.lavka.service.SyncServiceImpl.postWithBisect(SyncServiceImpl.java:571)
	at org.example.proect.lavka.service.SyncServiceImpl.runOneBatch(SyncServiceImpl.java:177)
	at org.example.proect.lavka.controller.SyncController.runOneBatch(SyncController.java:33)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:259)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:192)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:920)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:830)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.example.proect.lavka.web.RequestIdFilter.doFilterInternal(RequestIdFilter.java:38)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-11-09 11:26:37.974 [http-nio-8080-exec-1] [53d0c33b-51d9-4bc3-aa6a-a4f506e33fdb CON-200801100 1] WARN  o.e.p.lavka.service.SyncServiceImpl - [sync.errors] woo_batch_failed size=1 skus=CR-CE0890056200 msg=405 Not Allowed: "<html><EOL><EOL><head><title>405 Not Allowed</title></head><EOL><EOL><body><EOL><EOL><center><h1>405 Not Allowed</h1></center><EOL><EOL><hr><center>nginx/1.26.1</center><EOL><EOL></body><EOL><EOL></html><EOL><EOL>"
2025-11-09 11:26:37.974 [http-nio-8080-exec-1] [53d0c33b-51d9-4bc3-aa6a-a4f506e33fdb CON-200801100 1] ERROR o.e.p.lavka.service.SyncServiceImpl - [sync.errors] final-fail size=1 skus=CR-CE0890056200 err
org.springframework.web.client.HttpClientErrorException$MethodNotAllowed: 405 Not Allowed: "<html><EOL><EOL><head><title>405 Not Allowed</title></head><EOL><EOL><body><EOL><EOL><center><h1>405 Not Allowed</h1></center><EOL><EOL><hr><center>nginx/1.26.1</center><EOL><EOL></body><EOL><EOL></html><EOL><EOL>"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:115)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:183)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:137)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:942)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:891)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790)
	at org.springframework.web.client.RestTemplate.postForEntity(RestTemplate.java:538)
	at org.example.proect.lavka.client.WooApiClient.upsertProductsBatch(WooApiClient.java:254)
	at org.example.proect.lavka.service.SyncServiceImpl.postWithBisect(SyncServiceImpl.java:556)
	at org.example.proect.lavka.service.SyncServiceImpl.postWithBisect(SyncServiceImpl.java:572)
	at org.example.proect.lavka.service.SyncServiceImpl.postWithBisect(SyncServiceImpl.java:572)
	at org.example.proect.lavka.service.SyncServiceImpl.postWithBisect(SyncServiceImpl.java:571)
	at org.example.proect.lavka.service.SyncServiceImpl.runOneBatch(SyncServiceImpl.java:177)
	at org.example.proect.lavka.controller.SyncController.runOneBatch(SyncController.java:33)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:259)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:192)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:920)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:830)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.example.proect.lavka.web.RequestIdFilter.doFilterInternal(RequestIdFilter.java:38)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-11-09 11:26:37.976 [http-nio-8080-exec-1] [53d0c33b-51d9-4bc3-aa6a-a4f506e33fdb CON-200801100 1] WARN  o.e.p.lavka.service.SyncServiceImpl - [sync.errors] woo_batch_failed size=5 skus=CR-CE0890056276,CR-CE0890056400,CR-CE0890056600,CR-CE0890056630,CR-CE0890056962 msg=405 Not Allowed: "<html><EOL><EOL><head><title>405 Not Allowed</title></head><EOL><EOL><body><EOL><EOL><center><h1>405 Not Allowed</h1></center><EOL><EOL><hr><center>nginx/1.26.1</center><EOL><EOL></body><EOL><EOL></html><EOL><EOL>"
2025-11-09 11:26:37.978 [http-nio-8080-exec-1] [53d0c33b-51d9-4bc3-aa6a-a4f506e33fdb CON-200801100 1] WARN  o.e.p.lavka.service.SyncServiceImpl - [sync.errors] woo_batch_failed size=2 skus=CR-CE0890056276,CR-CE0890056400 msg=405 Not Allowed: "<html><EOL><EOL><head><title>405 Not Allowed</title></head><EOL><EOL><body><EOL><EOL><center><h1>405 Not Allowed</h1></center><EOL><EOL><hr><center>nginx/1.26.1</center><EOL><EOL></body><EOL><EOL></html><EOL><EOL>"
2025-11-09 11:26:37.980 [http-nio-8080-exec-1] [53d0c33b-51d9-4bc3-aa6a-a4f506e33fdb CON-200801100 1] WARN  o.e.p.lavka.service.SyncServiceImpl - [sync.errors] woo_batch_failed size=1 skus=CR-CE0890056276 msg=405 Not Allowed: "<html><EOL><EOL><head><title>405 Not Allowed</title></head><EOL><EOL><body><EOL><EOL><center><h1>405 Not Allowed</h1></center><EOL><EOL><hr><center>nginx/1.26.1</center><EOL><EOL></body><EOL><EOL></html><EOL><EOL>"
2025-11-09 11:26:37.980 [http-nio-8080-exec-1] [53d0c33b-51d9-4bc3-aa6a-a4f506e33fdb CON-200801100 1] ERROR o.e.p.lavka.service.SyncServiceImpl - [sync.errors] final-fail size=1 skus=CR-CE0890056276 err
org.springframework.web.client.HttpClientErrorException$MethodNotAllowed: 405 Not Allowed: "<html><EOL><EOL><head><title>405 Not Allowed</title></head><EOL><EOL><body><EOL><EOL><center><h1>405 Not Allowed</h1></center><EOL><EOL><hr><center>nginx/1.26.1</center><EOL><EOL></body><EOL><EOL></html><EOL><EOL>"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:115)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:183)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:137)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:942)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:891)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790)
	at org.springframework.web.client.RestTemplate.postForEntity(RestTemplate.java:538)
	at org.example.proect.lavka.client.WooApiClient.upsertProductsBatch(WooApiClient.java:254)
	at org.example.proect.lavka.service.SyncServiceImpl.postWithBisect(SyncServiceImpl.java:556)
	at org.example.proect.lavka.service.SyncServiceImpl.postWithBisect(SyncServiceImpl.java:571)
	at org.example.proect.lavka.service.SyncServiceImpl.postWithBisect(SyncServiceImpl.java:571)
	at org.example.proect.lavka.service.SyncServiceImpl.postWithBisect(SyncServiceImpl.java:572)
	at org.example.proect.lavka.service.SyncServiceImpl.runOneBatch(SyncServiceImpl.java:177)
	at org.example.proect.lavka.controller.SyncController.runOneBatch(SyncController.java:33)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:259)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:192)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:920)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:830)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.example.proect.lavka.web.RequestIdFilter.doFilterInternal(RequestIdFilter.java:38)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-11-09 11:26:37.993 [http-nio-8080-exec-1] [53d0c33b-51d9-4bc3-aa6a-a4f506e33fdb CON-200801100 1] WARN  o.e.p.lavka.service.SyncServiceImpl - [sync.errors] woo_batch_failed size=1 skus=CR-CE0890056400 msg=405 Not Allowed: "<html><EOL><EOL><head><title>405 Not Allowed</title></head><EOL><EOL><body><EOL><EOL><center><h1>405 Not Allowed</h1></center><EOL><EOL><hr><center>nginx/1.26.1</center><EOL><EOL></body><EOL><EOL></html><EOL><EOL>"
2025-11-09 11:26:37.993 [http-nio-8080-exec-1] [53d0c33b-51d9-4bc3-aa6a-a4f506e33fdb CON-200801100 1] ERROR o.e.p.lavka.service.SyncServiceImpl - [sync.errors] final-fail size=1 skus=CR-CE0890056400 err
org.springframework.web.client.HttpClientErrorException$MethodNotAllowed: 405 Not Allowed: "<html><EOL><EOL><head><title>405 Not Allowed</title></head><EOL><EOL><body><EOL><EOL><center><h1>405 Not Allowed</h1></center><EOL><EOL><hr><center>nginx/1.26.1</center><EOL><EOL></body><EOL><EOL></html><EOL><EOL>"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:115)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:183)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:137)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:942)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:891)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790)
	at org.springframework.web.client.RestTemplate.postForEntity(RestTemplate.java:538)
	at org.example.proect.lavka.client.WooApiClient.upsertProductsBatch(WooApiClient.java:254)
	at org.example.proect.lavka.service.SyncServiceImpl.postWithBisect(SyncServiceImpl.java:556)
	at org.example.proect.lavka.service.SyncServiceImpl.postWithBisect(SyncServiceImpl.java:572)
	at org.example.proect.lavka.service.SyncServiceImpl.postWithBisect(SyncServiceImpl.java:571)
	at org.example.proect.lavka.service.SyncServiceImpl.postWithBisect(SyncServiceImpl.java:572)
	at org.example.proect.lavka.service.SyncServiceImpl.runOneBatch(SyncServiceImpl.java:177)
	at org.example.proect.lavka.controller.SyncController.runOneBatch(SyncController.java:33)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:259)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:192)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:920)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:830)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.example.proect.lavka.web.RequestIdFilter.doFilterInternal(RequestIdFilter.java:38)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-11-09 11:26:37.995 [http-nio-8080-exec-1] [53d0c33b-51d9-4bc3-aa6a-a4f506e33fdb CON-200801100 1] WARN  o.e.p.lavka.service.SyncServiceImpl - [sync.errors] woo_batch_failed size=3 skus=CR-CE0890056600,CR-CE0890056630,CR-CE0890056962 msg=405 Not Allowed: "<html><EOL><EOL><head><title>405 Not Allowed</title></head><EOL><EOL><body><EOL><EOL><center><h1>405 Not Allowed</h1></center><EOL><EOL><hr><center>nginx/1.26.1</center><EOL><EOL></body><EOL><EOL></html><EOL><EOL>"
2025-11-09 11:26:37.997 [http-nio-8080-exec-1] [53d0c33b-51d9-4bc3-aa6a-a4f506e33fdb CON-200801100 1] WARN  o.e.p.lavka.service.SyncServiceImpl - [sync.errors] woo_batch_failed size=1 skus=CR-CE0890056600 msg=405 Not Allowed: "<html><EOL><EOL><head><title>405 Not Allowed</title></head><EOL><EOL><body><EOL><EOL><center><h1>405 Not Allowed</h1></center><EOL><EOL><hr><center>nginx/1.26.1</center><EOL><EOL></body><EOL><EOL></html><EOL><EOL>"
2025-11-09 11:26:37.997 [http-nio-8080-exec-1] [53d0c33b-51d9-4bc3-aa6a-a4f506e33fdb CON-200801100 1] ERROR o.e.p.lavka.service.SyncServiceImpl - [sync.errors] final-fail size=1 skus=CR-CE0890056600 err
org.springframework.web.client.HttpClientErrorException$MethodNotAllowed: 405 Not Allowed: "<html><EOL><EOL><head><title>405 Not Allowed</title></head><EOL><EOL><body><EOL><EOL><center><h1>405 Not Allowed</h1></center><EOL><EOL><hr><center>nginx/1.26.1</center><EOL><EOL></body><EOL><EOL></html><EOL><EOL>"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:115)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:183)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:137)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:942)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:891)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790)
	at org.springframework.web.client.RestTemplate.postForEntity(RestTemplate.java:538)
	at org.example.proect.lavka.client.WooApiClient.upsertProductsBatch(WooApiClient.java:254)
	at org.example.proect.lavka.service.SyncServiceImpl.postWithBisect(SyncServiceImpl.java:556)
	at org.example.proect.lavka.service.SyncServiceImpl.postWithBisect(SyncServiceImpl.java:571)
	at org.example.proect.lavka.service.SyncServiceImpl.postWithBisect(SyncServiceImpl.java:572)
	at org.example.proect.lavka.service.SyncServiceImpl.postWithBisect(SyncServiceImpl.java:572)
	at org.example.proect.lavka.service.SyncServiceImpl.runOneBatch(SyncServiceImpl.java:177)
	at org.example.proect.lavka.controller.SyncController.runOneBatch(SyncController.java:33)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:259)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:192)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:920)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:830)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.example.proect.lavka.web.RequestIdFilter.doFilterInternal(RequestIdFilter.java:38)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-11-09 11:26:37.999 [http-nio-8080-exec-1] [53d0c33b-51d9-4bc3-aa6a-a4f506e33fdb CON-200801100 1] WARN  o.e.p.lavka.service.SyncServiceImpl - [sync.errors] woo_batch_failed size=2 skus=CR-CE0890056630,CR-CE0890056962 msg=405 Not Allowed: "<html><EOL><EOL><head><title>405 Not Allowed</title></head><EOL><EOL><body><EOL><EOL><center><h1>405 Not Allowed</h1></center><EOL><EOL><hr><center>nginx/1.26.1</center><EOL><EOL></body><EOL><EOL></html><EOL><EOL>"
2025-11-09 11:26:38.001 [http-nio-8080-exec-1] [53d0c33b-51d9-4bc3-aa6a-a4f506e33fdb CON-200801100 1] WARN  o.e.p.lavka.service.SyncServiceImpl - [sync.errors] woo_batch_failed size=1 skus=CR-CE0890056630 msg=405 Not Allowed: "<html><EOL><EOL><head><title>405 Not Allowed</title></head><EOL><EOL><body><EOL><EOL><center><h1>405 Not Allowed</h1></center><EOL><EOL><hr><center>nginx/1.26.1</center><EOL><EOL></body><EOL><EOL></html><EOL><EOL>"
2025-11-09 11:26:38.001 [http-nio-8080-exec-1] [53d0c33b-51d9-4bc3-aa6a-a4f506e33fdb CON-200801100 1] ERROR o.e.p.lavka.service.SyncServiceImpl - [sync.errors] final-fail size=1 skus=CR-CE0890056630 err
org.springframework.web.client.HttpClientErrorException$MethodNotAllowed: 405 Not Allowed: "<html><EOL><EOL><head><title>405 Not Allowed</title></head><EOL><EOL><body><EOL><EOL><center><h1>405 Not Allowed</h1></center><EOL><EOL><hr><center>nginx/1.26.1</center><EOL><EOL></body><EOL><EOL></html><EOL><EOL>"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:115)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:183)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:137)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:942)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:891)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790)
	at org.springframework.web.client.RestTemplate.postForEntity(RestTemplate.java:538)
	at org.example.proect.lavka.client.WooApiClient.upsertProductsBatch(WooApiClient.java:254)
	at org.example.proect.lavka.service.SyncServiceImpl.postWithBisect(SyncServiceImpl.java:556)
	at org.example.proect.lavka.service.SyncServiceImpl.postWithBisect(SyncServiceImpl.java:571)
	at org.example.proect.lavka.service.SyncServiceImpl.postWithBisect(SyncServiceImpl.java:572)
	at org.example.proect.lavka.service.SyncServiceImpl.postWithBisect(SyncServiceImpl.java:572)
	at org.example.proect.lavka.service.SyncServiceImpl.postWithBisect(SyncServiceImpl.java:572)
	at org.example.proect.lavka.service.SyncServiceImpl.runOneBatch(SyncServiceImpl.java:177)
	at org.example.proect.lavka.controller.SyncController.runOneBatch(SyncController.java:33)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:259)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:192)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:920)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:830)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.example.proect.lavka.web.RequestIdFilter.doFilterInternal(RequestIdFilter.java:38)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-11-09 11:26:38.003 [http-nio-8080-exec-1] [53d0c33b-51d9-4bc3-aa6a-a4f506e33fdb CON-200801100 1] WARN  o.e.p.lavka.service.SyncServiceImpl - [sync.errors] woo_batch_failed size=1 skus=CR-CE0890056962 msg=405 Not Allowed: "<html><EOL><EOL><head><title>405 Not Allowed</title></head><EOL><EOL><body><EOL><EOL><center><h1>405 Not Allowed</h1></center><EOL><EOL><hr><center>nginx/1.26.1</center><EOL><EOL></body><EOL><EOL></html><EOL><EOL>"
2025-11-09 11:26:38.003 [http-nio-8080-exec-1] [53d0c33b-51d9-4bc3-aa6a-a4f506e33fdb CON-200801100 1] ERROR o.e.p.lavka.service.SyncServiceImpl - [sync.errors] final-fail size=1 skus=CR-CE0890056962 err
org.springframework.web.client.HttpClientErrorException$MethodNotAllowed: 405 Not Allowed: "<html><EOL><EOL><head><title>405 Not Allowed</title></head><EOL><EOL><body><EOL><EOL><center><h1>405 Not Allowed</h1></center><EOL><EOL><hr><center>nginx/1.26.1</center><EOL><EOL></body><EOL><EOL></html><EOL><EOL>"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:115)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:183)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:137)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:942)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:891)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790)
	at org.springframework.web.client.RestTemplate.postForEntity(RestTemplate.java:538)
	at org.example.proect.lavka.client.WooApiClient.upsertProductsBatch(WooApiClient.java:254)
	at org.example.proect.lavka.service.SyncServiceImpl.postWithBisect(SyncServiceImpl.java:556)
	at org.example.proect.lavka.service.SyncServiceImpl.postWithBisect(SyncServiceImpl.java:572)
	at org.example.proect.lavka.service.SyncServiceImpl.postWithBisect(SyncServiceImpl.java:572)
	at org.example.proect.lavka.service.SyncServiceImpl.postWithBisect(SyncServiceImpl.java:572)
	at org.example.proect.lavka.service.SyncServiceImpl.postWithBisect(SyncServiceImpl.java:572)
	at org.example.proect.lavka.service.SyncServiceImpl.runOneBatch(SyncServiceImpl.java:177)
	at org.example.proect.lavka.controller.SyncController.runOneBatch(SyncController.java:33)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:259)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:192)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:920)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:830)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.example.proect.lavka.web.RequestIdFilter.doFilterInternal(RequestIdFilter.java:38)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-11-09 11:26:38.012 [http-nio-8080-exec-1] [53d0c33b-51d9-4bc3-aa6a-a4f506e33fdb CR-CE0900056200 ] WARN  o.e.p.l.d.s.AbstractRetryingDao -  retry #1 for wp.collectSeenWindow due to DataAccessResourceFailureException: PreparedStatementCallback; SQL [    SELECT sku.post_id           AS post_id,
           sku.meta_value        AS sku,
           COALESCE(h.meta_value, '') AS hash
    FROM wp_postmeta sku
    JOIN wp_posts p
      ON p.ID = sku.post_id
     AND p.post_type = 'product'
    LEFT JOIN wp_postmeta h
      ON h.post_id = sku.post_id
     AND h.meta_key = '_ms_hash'
    WHERE sku.meta_key = '_sku'
    AND sku.meta_value > ?
    ORDER BY sku.meta_value ASC
    LIMIT ?
]; (conn=79326) Socket error
2025-11-09 11:26:38.947 [http-nio-8080-exec-1] [53d0c33b-51d9-4bc3-aa6a-a4f506e33fdb CR-CE0900056200 ] WARN  o.e.p.l.d.s.AbstractRetryingDao -  retry #2 for wp.collectSeenWindow due to DataAccessResourceFailureException: PreparedStatementCallback; SQL [    SELECT sku.post_id           AS post_id,
           sku.meta_value        AS sku,
           COALESCE(h.meta_value, '') AS hash
    FROM wp_postmeta sku
    JOIN wp_posts p
      ON p.ID = sku.post_id
     AND p.post_type = 'product'
    LEFT JOIN wp_postmeta h
      ON h.post_id = sku.post_id
     AND h.meta_key = '_ms_hash'
    WHERE sku.meta_key = '_sku'
    AND sku.meta_value > ?
    ORDER BY sku.meta_value ASC
    LIMIT ?
]; (conn=79327) Socket error
2025-11-09 11:48:26.879 [http-nio-8080-exec-1] [9c095253-ff58-4858-9d6a-2003dfe3acc3 CL-960172C 1] WARN  o.e.p.lavka.service.SyncServiceImpl - [sync.errors] woo_batch_failed size=1 skus=CON-200001868 msg=405 Not Allowed: "<html><EOL><EOL><head><title>405 Not Allowed</title></head><EOL><EOL><body><EOL><EOL><center><h1>405 Not Allowed</h1></center><EOL><EOL><hr><center>nginx/1.26.1</center><EOL><EOL></body><EOL><EOL></html><EOL><EOL>"
2025-11-09 11:48:26.881 [http-nio-8080-exec-1] [9c095253-ff58-4858-9d6a-2003dfe3acc3 CL-960172C 1] ERROR o.e.p.lavka.service.SyncServiceImpl - [sync.errors] final-fail size=1 skus=CON-200001868 err
org.springframework.web.client.HttpClientErrorException$MethodNotAllowed: 405 Not Allowed: "<html><EOL><EOL><head><title>405 Not Allowed</title></head><EOL><EOL><body><EOL><EOL><center><h1>405 Not Allowed</h1></center><EOL><EOL><hr><center>nginx/1.26.1</center><EOL><EOL></body><EOL><EOL></html><EOL><EOL>"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:115)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:183)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:137)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:942)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:891)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790)
	at org.springframework.web.client.RestTemplate.postForEntity(RestTemplate.java:538)
	at org.example.proect.lavka.client.WooApiClient.upsertProductsBatch(WooApiClient.java:254)
	at org.example.proect.lavka.service.SyncServiceImpl.postWithBisect(SyncServiceImpl.java:556)
	at org.example.proect.lavka.service.SyncServiceImpl.runOneBatch(SyncServiceImpl.java:177)
	at org.example.proect.lavka.controller.SyncController.runOneBatch(SyncController.java:33)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:259)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:192)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:920)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:830)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.example.proect.lavka.web.RequestIdFilter.doFilterInternal(RequestIdFilter.java:38)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-11-09 11:48:26.889 [http-nio-8080-exec-1] [9c095253-ff58-4858-9d6a-2003dfe3acc3 CON-200005412R ] WARN  o.e.p.l.d.s.AbstractRetryingDao -  retry #1 for wp.collectSeenWindow due to DataAccessResourceFailureException: PreparedStatementCallback; SQL [    SELECT sku.post_id           AS post_id,
           sku.meta_value        AS sku,
           COALESCE(h.meta_value, '') AS hash
    FROM wp_postmeta sku
    JOIN wp_posts p
      ON p.ID = sku.post_id
     AND p.post_type = 'product'
    LEFT JOIN wp_postmeta h
      ON h.post_id = sku.post_id
     AND h.meta_key = '_ms_hash'
    WHERE sku.meta_key = '_sku'
    AND sku.meta_value > ?
    ORDER BY sku.meta_value ASC
    LIMIT ?
]; (conn=528) Socket error
2025-11-09 11:48:27.767 [http-nio-8080-exec-1] [9c095253-ff58-4858-9d6a-2003dfe3acc3 CON-200005412R ] WARN  o.e.p.l.d.s.AbstractRetryingDao -  retry #2 for wp.collectSeenWindow due to DataAccessResourceFailureException: PreparedStatementCallback; SQL [    SELECT sku.post_id           AS post_id,
           sku.meta_value        AS sku,
           COALESCE(h.meta_value, '') AS hash
    FROM wp_postmeta sku
    JOIN wp_posts p
      ON p.ID = sku.post_id
     AND p.post_type = 'product'
    LEFT JOIN wp_postmeta h
      ON h.post_id = sku.post_id
     AND h.meta_key = '_ms_hash'
    WHERE sku.meta_key = '_sku'
    AND sku.meta_value > ?
    ORDER BY sku.meta_value ASC
    LIMIT ?
]; (conn=529) Socket error
2025-11-09 11:52:26.289 [http-nio-8080-exec-1] [  ] ERROR o.e.p.l.e.GlobalExceptionHandler - [sync.errors] db uri=/sync/run cause=SocketException msg=Socket closed
org.springframework.dao.DataAccessResourceFailureException: PreparedStatementCallback; SQL [SELECT
       sku,
       name,
       NGROUP_TVR,
       NGROUP_TV2,
       NGROUP_TV3,
       NGROUP_TV4,
       NGROUP_TV5,
       NGROUP_TV6,
       img,
       EDIN_IZMER,
       global_unique_id,
       weight,
       [length],
       [width],
       [height],
       status,
       VES_EDINIC,
       [DESCRIPTION],
       RAZM_IZMER,
       gr_descr
FROM dbo.card_tov_export
WHERE sku IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
]; I/O Error: Socket closed
	at org.springframework.jdbc.support.SQLStateSQLExceptionTranslator.doTranslate(SQLStateSQLExceptionTranslator.java:121)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:107)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:116)
	at org.springframework.jdbc.core.JdbcTemplate.translateException(JdbcTemplate.java:1548)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:677)
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:723)
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:748)
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:804)
	at org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.query(NamedParameterJdbcTemplate.java:218)
	at org.example.proect.lavka.dao.CardTovExportDaoImpl.findBySkus(CardTovExportDaoImpl.java:125)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:351)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717)
	at org.example.proect.lavka.dao.CardTovExportDaoImpl$$SpringCGLIB$$0.findBySkus(<generated>)
	at org.example.proect.lavka.service.CardTovExportService.diffPage(CardTovExportService.java:88)
	at org.example.proect.lavka.service.SyncServiceImpl.runOneBatch(SyncServiceImpl.java:130)
	at org.example.proect.lavka.controller.SyncController.runOneBatch(SyncController.java:33)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:259)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:192)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:920)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:830)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.example.proect.lavka.web.RequestIdFilter.doFilterInternal(RequestIdFilter.java:38)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.sql.SQLException: I/O Error: Socket closed
	at net.sourceforge.jtds.jdbc.TdsCore.nextToken(TdsCore.java:2481)
	at net.sourceforge.jtds.jdbc.TdsCore.getNextRow(TdsCore.java:805)
	at net.sourceforge.jtds.jdbc.JtdsResultSet.next(JtdsResultSet.java:611)
	at com.zaxxer.hikari.pool.HikariProxyResultSet.next(HikariProxyResultSet.java)
	at org.springframework.jdbc.core.RowMapperResultSetExtractor.extractData(RowMapperResultSetExtractor.java:93)
	at org.springframework.jdbc.core.RowMapperResultSetExtractor.extractData(RowMapperResultSetExtractor.java:61)
	at org.springframework.jdbc.core.JdbcTemplate$1.doInPreparedStatement(JdbcTemplate.java:733)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:658)
	... 67 common frames omitted
Caused by: java.net.SocketException: Socket closed
	at java.base/sun.nio.ch.NioSocketImpl.endRead(NioSocketImpl.java:243)
	at java.base/sun.nio.ch.NioSocketImpl.implRead(NioSocketImpl.java:323)
	at java.base/sun.nio.ch.NioSocketImpl.read(NioSocketImpl.java:346)
	at java.base/sun.nio.ch.NioSocketImpl$1.read(NioSocketImpl.java:796)
	at java.base/java.net.Socket$SocketInputStream.read(Socket.java:1099)
	at java.base/java.io.DataInputStream.readFully(DataInputStream.java:208)
	at java.base/java.io.DataInputStream.readFully(DataInputStream.java:179)
	at net.sourceforge.jtds.jdbc.SharedSocket.readPacket(SharedSocket.java:850)
	at net.sourceforge.jtds.jdbc.SharedSocket.getNetPacket(SharedSocket.java:731)
	at net.sourceforge.jtds.jdbc.ResponseStream.getPacket(ResponseStream.java:477)
	at net.sourceforge.jtds.jdbc.ResponseStream.read(ResponseStream.java:146)
	at net.sourceforge.jtds.jdbc.ResponseStream.readString(ResponseStream.java:301)
	at net.sourceforge.jtds.jdbc.ResponseStream.readNonUnicodeString(ResponseStream.java:285)
	at net.sourceforge.jtds.jdbc.TdsData.readData(TdsData.java:961)
	at net.sourceforge.jtds.jdbc.TdsCore.tdsRowToken(TdsCore.java:3175)
	at net.sourceforge.jtds.jdbc.TdsCore.nextToken(TdsCore.java:2433)
	... 74 common frames omitted
2025-11-09 11:52:51.865 [http-nio-8080-exec-1] [3f7ea740-cd04-4fde-ba0f-bcc742f73f26 CL-960172C 1] WARN  o.e.p.lavka.service.SyncServiceImpl - [sync.errors] woo_batch_failed size=1 skus=CON-200001868 msg=405 Not Allowed: "<html><EOL><EOL><head><title>405 Not Allowed</title></head><EOL><EOL><body><EOL><EOL><center><h1>405 Not Allowed</h1></center><EOL><EOL><hr><center>nginx/1.26.1</center><EOL><EOL></body><EOL><EOL></html><EOL><EOL>"
2025-11-09 11:52:51.867 [http-nio-8080-exec-1] [3f7ea740-cd04-4fde-ba0f-bcc742f73f26 CL-960172C 1] ERROR o.e.p.lavka.service.SyncServiceImpl - [sync.errors] final-fail size=1 skus=CON-200001868 err
org.springframework.web.client.HttpClientErrorException$MethodNotAllowed: 405 Not Allowed: "<html><EOL><EOL><head><title>405 Not Allowed</title></head><EOL><EOL><body><EOL><EOL><center><h1>405 Not Allowed</h1></center><EOL><EOL><hr><center>nginx/1.26.1</center><EOL><EOL></body><EOL><EOL></html><EOL><EOL>"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:115)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:183)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:137)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:942)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:891)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790)
	at org.springframework.web.client.RestTemplate.postForEntity(RestTemplate.java:538)
	at org.example.proect.lavka.client.WooApiClient.upsertProductsBatch(WooApiClient.java:254)
	at org.example.proect.lavka.service.SyncServiceImpl.postWithBisect(SyncServiceImpl.java:556)
	at org.example.proect.lavka.service.SyncServiceImpl.runOneBatch(SyncServiceImpl.java:177)
	at org.example.proect.lavka.controller.SyncController.runOneBatch(SyncController.java:33)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:259)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:192)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:920)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:830)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.example.proect.lavka.web.RequestIdFilter.doFilterInternal(RequestIdFilter.java:38)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-11-09 11:52:51.881 [http-nio-8080-exec-1] [3f7ea740-cd04-4fde-ba0f-bcc742f73f26 CON-200005412R ] WARN  o.e.p.l.d.s.AbstractRetryingDao -  retry #1 for wp.collectSeenWindow due to DataAccessResourceFailureException: PreparedStatementCallback; SQL [    SELECT sku.post_id           AS post_id,
           sku.meta_value        AS sku,
           COALESCE(h.meta_value, '') AS hash
    FROM wp_postmeta sku
    JOIN wp_posts p
      ON p.ID = sku.post_id
     AND p.post_type = 'product'
    LEFT JOIN wp_postmeta h
      ON h.post_id = sku.post_id
     AND h.meta_key = '_ms_hash'
    WHERE sku.meta_key = '_sku'
    AND sku.meta_value > ?
    ORDER BY sku.meta_value ASC
    LIMIT ?
]; (conn=161) Socket error
2025-11-09 11:52:52.777 [http-nio-8080-exec-1] [3f7ea740-cd04-4fde-ba0f-bcc742f73f26 CON-200005412R ] WARN  o.e.p.l.d.s.AbstractRetryingDao -  retry #2 for wp.collectSeenWindow due to DataAccessResourceFailureException: PreparedStatementCallback; SQL [    SELECT sku.post_id           AS post_id,
           sku.meta_value        AS sku,
           COALESCE(h.meta_value, '') AS hash
    FROM wp_postmeta sku
    JOIN wp_posts p
      ON p.ID = sku.post_id
     AND p.post_type = 'product'
    LEFT JOIN wp_postmeta h
      ON h.post_id = sku.post_id
     AND h.meta_key = '_ms_hash'
    WHERE sku.meta_key = '_sku'
    AND sku.meta_value > ?
    ORDER BY sku.meta_value ASC
    LIMIT ?
]; (conn=162) Socket error
